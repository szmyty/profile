{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/szmyty/profile/schemas/theme.schema.json",
  "title": "Theme Configuration",
  "description": "Schema for theme configuration used in card generation",
  "type": "object",
  "required": ["colors", "gradients", "typography", "spacing", "cards"],
  "properties": {
    "default_theme": {
      "type": "string",
      "enum": ["dark", "light"],
      "description": "Default theme to use"
    },
    "themes": {
      "type": "object",
      "description": "Theme variants (dark and light)",
      "properties": {
        "dark": {
          "$ref": "#/$defs/themeVariant"
        },
        "light": {
          "$ref": "#/$defs/themeVariant"
        }
      },
      "additionalProperties": false
    },
    "colors": {
      "$ref": "#/$defs/colorScheme"
    },
    "gradients": {
      "$ref": "#/$defs/gradientScheme"
    },
    "typography": {
      "type": "object",
      "required": ["font_family", "sizes"],
      "properties": {
        "font_family": {
          "type": "string",
          "minLength": 1,
          "description": "Primary font family"
        },
        "font_family_emoji": {
          "type": "string",
          "description": "Font family for emoji"
        },
        "sizes": {
          "type": "object",
          "required": ["xs", "sm", "base", "md", "lg", "xl"],
          "properties": {
            "xs": {"type": "integer", "minimum": 1},
            "sm": {"type": "integer", "minimum": 1},
            "base": {"type": "integer", "minimum": 1},
            "md": {"type": "integer", "minimum": 1},
            "lg": {"type": "integer", "minimum": 1},
            "lg-plus": {"type": "integer", "minimum": 1},
            "xl": {"type": "integer", "minimum": 1},
            "2xl": {"type": "integer", "minimum": 1},
            "3xl": {"type": "integer", "minimum": 1},
            "4xl": {"type": "integer", "minimum": 1},
            "5xl": {"type": "integer", "minimum": 1},
            "6xl": {"type": "integer", "minimum": 1},
            "7xl": {"type": "integer", "minimum": 1}
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "spacing": {
      "type": "object",
      "required": ["xs", "sm", "md", "lg", "xl"],
      "properties": {
        "xs": {"type": "integer", "minimum": 0},
        "sm": {"type": "integer", "minimum": 0},
        "md": {"type": "integer", "minimum": 0},
        "lg": {"type": "integer", "minimum": 0},
        "xl": {"type": "integer", "minimum": 0},
        "2xl": {"type": "integer", "minimum": 0},
        "3xl": {"type": "integer", "minimum": 0},
        "4xl": {"type": "integer", "minimum": 0}
      },
      "additionalProperties": false
    },
    "cards": {
      "type": "object",
      "required": ["border_radius", "widths", "heights"],
      "properties": {
        "border_radius": {
          "type": "object",
          "required": ["sm", "md", "lg", "xl"],
          "properties": {
            "sm": {"type": "integer", "minimum": 0},
            "md": {"type": "integer", "minimum": 0},
            "lg": {"type": "integer", "minimum": 0},
            "xl": {"type": "integer", "minimum": 0}
          },
          "additionalProperties": false
        },
        "widths": {
          "type": "object",
          "properties": {
            "soundcloud": {"type": "integer", "minimum": 1},
            "weather": {"type": "integer", "minimum": 1},
            "mood": {"type": "integer", "minimum": 1},
            "health_dashboard": {"type": "integer", "minimum": 1},
            "location": {"type": "integer", "minimum": 1},
            "developer_dashboard": {"type": "integer", "minimum": 1}
          },
          "additionalProperties": false
        },
        "heights": {
          "type": "object",
          "properties": {
            "soundcloud": {"type": "integer", "minimum": 1},
            "weather": {"type": "integer", "minimum": 1},
            "mood": {"type": "integer", "minimum": 1},
            "health_dashboard": {"type": "integer", "minimum": 1},
            "location": {"type": "integer", "minimum": 1},
            "developer_dashboard": {"type": "integer", "minimum": 1}
          },
          "additionalProperties": false
        },
        "map": {
          "type": "object",
          "properties": {
            "margin": {"type": "integer", "minimum": 0},
            "height": {"type": "integer", "minimum": 1}
          },
          "additionalProperties": false
        },
        "stroke_width": {
          "type": "number",
          "minimum": 0
        },
        "stroke_opacity": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "decorative_accent": {
          "type": "object",
          "properties": {
            "width": {"type": "integer", "minimum": 0},
            "x_offset": {"type": "integer"},
            "y_offset": {"type": "integer"}
          },
          "additionalProperties": false
        },
        "score_bar": {
          "type": "object",
          "properties": {
            "height": {"type": "integer", "minimum": 1},
            "width": {"type": "integer", "minimum": 1},
            "text_offset": {"type": "integer"}
          },
          "additionalProperties": false
        },
        "radial_bar": {
          "type": "object",
          "properties": {
            "stroke_width": {"type": "integer", "minimum": 1},
            "opacity": {"type": "number", "minimum": 0, "maximum": 1},
            "ring_spacing": {"type": "integer", "minimum": 0}
          },
          "additionalProperties": false
        },
        "score_ring": {
          "type": "object",
          "properties": {
            "stroke_width": {"type": "integer", "minimum": 1},
            "label_offset": {"type": "integer"}
          },
          "additionalProperties": false
        },
        "chart": {
          "type": "object",
          "properties": {
            "bar_height": {"type": "integer", "minimum": 1},
            "bar_gap": {"type": "integer", "minimum": 0},
            "label_width": {"type": "integer", "minimum": 1},
            "sparkline": {
              "type": "object",
              "properties": {
                "width": {"type": "integer", "minimum": 1},
                "height": {"type": "integer", "minimum": 1},
                "stroke_width": {"type": "integer", "minimum": 1}
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "effects": {
      "type": "object",
      "properties": {
        "glow": {
          "type": "object",
          "properties": {
            "stdDeviation": {"type": "number", "minimum": 0}
          },
          "additionalProperties": false
        },
        "shadow": {
          "type": "object",
          "properties": {
            "dx": {"type": "number"},
            "dy": {"type": "number"},
            "stdDeviation": {"type": "number", "minimum": 0},
            "flood_opacity": {"type": "number", "minimum": 0, "maximum": 1}
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "image_optimization": {
      "type": "object",
      "properties": {
        "enabled": {"type": "boolean"},
        "jpeg_quality": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100
        },
        "png_colors": {
          "type": "integer",
          "minimum": 2,
          "maximum": 256
        },
        "max_width": {"type": "integer", "minimum": 1},
        "max_height": {"type": "integer", "minimum": 1}
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "$defs": {
    "hexColor": {
      "type": "string",
      "pattern": "^#[0-9a-fA-F]{6}$",
      "description": "Hex color code"
    },
    "gradient": {
      "type": "array",
      "items": {"$ref": "#/$defs/hexColor"},
      "minItems": 2,
      "maxItems": 2,
      "description": "Gradient as array of two hex colors [start, end]"
    },
    "colorScheme": {
      "type": "object",
      "required": ["background", "text", "accent", "scores"],
      "properties": {
        "background": {
          "type": "object",
          "required": ["primary", "secondary", "dark", "panel"],
          "properties": {
            "primary": {"$ref": "#/$defs/hexColor"},
            "secondary": {"$ref": "#/$defs/hexColor"},
            "dark": {"$ref": "#/$defs/hexColor"},
            "panel": {"$ref": "#/$defs/hexColor"},
            "panel_sleep": {"$ref": "#/$defs/hexColor"},
            "panel_readiness": {"$ref": "#/$defs/hexColor"},
            "panel_activity": {"$ref": "#/$defs/hexColor"}
          },
          "additionalProperties": false
        },
        "text": {
          "type": "object",
          "required": ["primary", "secondary", "muted", "accent"],
          "properties": {
            "primary": {"$ref": "#/$defs/hexColor"},
            "secondary": {"$ref": "#/$defs/hexColor"},
            "muted": {"$ref": "#/$defs/hexColor"},
            "accent": {"$ref": "#/$defs/hexColor"}
          },
          "additionalProperties": false
        },
        "accent": {
          "type": "object",
          "required": ["teal", "cyan", "orange"],
          "properties": {
            "teal": {"$ref": "#/$defs/hexColor"},
            "cyan": {"$ref": "#/$defs/hexColor"},
            "orange": {"$ref": "#/$defs/hexColor"},
            "sleep": {"$ref": "#/$defs/hexColor"},
            "readiness": {"$ref": "#/$defs/hexColor"},
            "activity": {"$ref": "#/$defs/hexColor"},
            "heart_rate": {"$ref": "#/$defs/hexColor"},
            "developer": {"$ref": "#/$defs/hexColor"},
            "commits": {"$ref": "#/$defs/hexColor"},
            "repos": {"$ref": "#/$defs/hexColor"},
            "stars": {"$ref": "#/$defs/hexColor"},
            "prs": {"$ref": "#/$defs/hexColor"},
            "issues": {"$ref": "#/$defs/hexColor"}
          },
          "additionalProperties": false
        },
        "scores": {
          "type": "object",
          "required": ["high", "medium", "low"],
          "properties": {
            "high": {"$ref": "#/$defs/hexColor"},
            "medium": {"$ref": "#/$defs/hexColor"},
            "low": {"$ref": "#/$defs/hexColor"}
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "gradientScheme": {
      "type": "object",
      "required": ["background"],
      "properties": {
        "background": {
          "type": "object",
          "required": ["default", "dark"],
          "properties": {
            "default": {"$ref": "#/$defs/gradient"},
            "dark": {"$ref": "#/$defs/gradient"}
          },
          "additionalProperties": false
        },
        "sleep": {"$ref": "#/$defs/gradient"},
        "readiness": {"$ref": "#/$defs/gradient"},
        "activity": {"$ref": "#/$defs/gradient"},
        "heart_rate": {"$ref": "#/$defs/gradient"},
        "developer": {"$ref": "#/$defs/gradient"},
        "weather": {
          "type": "object",
          "properties": {
            "clear_day": {"$ref": "#/$defs/gradient"},
            "cloudy": {"$ref": "#/$defs/gradient"},
            "fog": {"$ref": "#/$defs/gradient"},
            "rain": {"$ref": "#/$defs/gradient"},
            "snow": {"$ref": "#/$defs/gradient"},
            "storm": {"$ref": "#/$defs/gradient"},
            "night": {"$ref": "#/$defs/gradient"}
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "themeVariant": {
      "type": "object",
      "required": ["colors", "gradients"],
      "properties": {
        "colors": {"$ref": "#/$defs/colorScheme"},
        "gradients": {"$ref": "#/$defs/gradientScheme"}
      },
      "additionalProperties": false
    }
  }
}
